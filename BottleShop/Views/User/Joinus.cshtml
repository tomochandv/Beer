<div class="container">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <h1>Jojn <small>회원가입</small></h1>
            <form name="sentMessage" id="contactForm" novalidate>
                <div class="row control-group">
                    <div class="form-group col-xs-12 floating-label-form-group controls">
                        <label>ID</label>
                        <input type="text" class="form-control" placeholder="아이디 ID" id="id" name="id" minlength="5" maxlength="20" required data-validation-required-message="Please enter your id.">
                        <p class="help-block text-danger"></p>
                        <input type="hidden" id="idc" value="N" />
                    </div>
                </div>
                <div class="row control-group">
                    <div class="form-group col-xs-12 floating-label-form-group controls">
                        <label>Password</label>
                        <input type="password" class="form-control" placeholder="비밀번호 Password(6 ~ 20 자리.)" id="password" minlength="6" maxlength="20" required data-validation-required-message="Please enter your password.">
                        <p class="help-block text-danger"></p>
                    </div>
                </div>
                <div class="row control-group">
                    <div class="form-group col-xs-12 floating-label-form-group controls">
                        <label>Name</label>
                        <input type="text" class="form-control" placeholder="이름 Name" id="name" minlength="2" maxlength="100" required data-validation-required-message="Please enter your Name.">
                        <p class="help-block text-danger"></p>
                    </div>
                </div>
                <div class="row control-group">
                    <div class="form-group col-xs-12 floating-label-form-group controls">
                        <label>Email</label>
                        <input type="email" class="form-control" placeholder="이메일 Email" id="email" minlength="3" maxlength="100" required data-validation-required-message="Please enter your Email.">
                        <p class="help-block text-danger"></p>
                        <input type="hidden" id="emailc" value="N" />
                    </div>
                </div>
                <div class="row control-group">
                    <div class="form-group col-xs-12 floating-label-form-group controls">
                        <label>Tell</label>
                        <input type="number" class="form-control" placeholder="전화번호 Tell (01012345678)" id="tell" minlength="6" required data-validation-required-message="Please enter your Tell. ex: 01088881111">
                        <p class="help-block text-danger"></p>
                    </div>
                </div>
                <div class="row control-group">
                    <div class="form-group col-xs-12 floating-label-form-group controls">
                        <label>생년월일 Birthday </label>
                        <input type="text" class="form-control" placeholder="생년월일 Birthday (1980-01-01)" id="birth" required data-validation-required-message="Please enter your birth day. ex: 19801121">
                        <p class="help-block text-danger"></p>
                    </div>
                </div>
                <div class="row control-group">
                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingOne">
                                <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                        멤버십 결제 정보 (Membership Pay info)
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                                <div class="panel-body">
                                    <ul>
                                        <li>the Bottleshop은 맴버십에게만 정보를 제공합니다. </li>
                                        <li>법적으로 온라인상 주류거래를 할 수 없습니다. 
                                            <br /> 본사이트는 바틀샵의 가격을 제공하는 사이트 입니다. 
                                            <br /> 본 사이트에서는 맴버십에 대한 결재만 진행 하 실 수있습니다.
                                            <br /> 따라서 the Bottleshop 오프라인 매장에서 주류에 대한 결제를 하실 수있습니다.</li>
                                        <li>맴버십 결재는 온라인에서만 가능합니다. 온라인 결재시 월 20,000원 의 정기결재가 이루어집니다.</li>
                                        <li>미성년자는 이용하실 수 없습니다.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingTwo">
                                <h4 class="panel-title">
                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        이용약관(Site Terms)
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                <div class="panel-body">
                                    <p>
                                    <p class="ls2 lh6 bs5 ts4">
                                        <em class="emphasis">[더바틀샵]('thebottleshop.co.kr'이하  'thebottleshop')</em>은(는) 개인정보보호법에 따라 이용자의 개인정보 보호 및 권익을 보호하고 개인정보와 관련한 이용자의 고충을 원활하게 처리할 수 있도록 다음과 같은 처리방침을 두고 있습니다.
                                    </p>
                                    <p class="ls2 lh6 bs5 ts4">
                                        <em class="emphasis">[더바틀샵]('thebottleshop')</em> 은(는) 회사는 개인정보처리방침을 개정하는 경우 웹사이트 공지사항(또는 개별공지)을 통하여 공지할 것입니다.
                                    </p>
                                    <p class="ls2">
                                        ○ 본 방침은부터
                                        <em class="emphasis">2016</em>년
                                        <em class="emphasis">8</em>월
                                        <em class="emphasis">1</em>일부터 시행됩니다.
                                    </p></br>
                                    <p class='lh6 bs4'>
                                        <strong>1. 개인정보의 처리 목적 <em class="emphasis">[더바틀샵]('thebottleshop.co.kr'이하  'thebottleshop')</em>은(는) 개인정보를 다음의 목적을 위해 처리합니다. 처리한 개인정보는 다음의 목적이외의 용도로는 사용되지 않으며 이용 목적이 변경될 시에는 사전동의를 구할 예정입니다.</strong>
                                    </p>
                                    <p class="ls2">가. 홈페이지 회원가입 및 관리</p>
                                    <p class="ls2">회원 가입의사 확인, 회원제 서비스 제공에 따른 본인 식별·인증, 회원자격 유지·관리, 제한적 본인확인제 시행에 따른 본인확인, 서비스 부정이용 방지, 만14세 미만 아동 개인정보 수집 시 법정대리인 동의 여부 확인, 각종 고지·통지 등을 목적으로 개인정보를 처리합니다.</p></br>
                                    <p class="ls2">나. 재화 또는 서비스 제공</p>
                                    <p class="ls2">서비스 제공, 요금결제·정산 등을 목적으로 개인정보를 처리합니다.</p></br>
                                    <p class="ls2">다. 마케팅 및 광고에의 활용</p>
                                    <p class="ls2">신규 서비스(제품) 개발 및 맞춤 서비스 제공, 이벤트 및 광고성 정보 제공 및 참여기회 제공 , 인구통계학적 특성에 따른 서비스 제공 및 광고 게재 , 서비스의 유효성 확인, 접속빈도 파악 또는 회원의 서비스 이용에 대한 통계 등을 목적으로 개인정보를 처리합니다.</p></br></br></br>
                                    <p class='lh6 bs4'><strong>2. 개인정보 파일 현황</br></strong></p>
                                    <p class='ls2'>1. 개인정보 파일명 : 456</br> - 개인정보 항목 : 이메일, 휴대전화번호, 비밀번호, 로그인ID, 생년월일, 이름</br> - 수집방법 : 홈페이지 회원가입</br> - 보유근거 : 홈페이지 운영에 필요한 필수 정보.</br>  - 보유기간 : 준영구</br>  - 관련법령 : 신용정보의 수집/처리 및 이용 등에 관한 기록 : 3년, 대금결제 및 재화 등의 공급에 관한 기록 : 5년</p></br></br></br>
                                    <p class='lh6 bs4'>
                                        <strong>3. 개인정보의 제3자 제공에 관한 사항</strong></br></br> ①
                                        <em class="emphasis">[더바틀샵]('thebottleshop.co.kr'이하 'thebottleshop')</em>은(는) 정보주체의 동의, 법률의 특별한 규정 등 개인정보 보호법 제17조 및 제18조에 해당하는 경우에만 개인정보를 제3자에게 제공합니다.
                                    </p>②
                                    <em class="emphasis">[더바틀샵]('thebottleshop.co.kr')</em>은(는) 다음과 같이 개인정보를 제3자에게 제공하고 있습니다.</br></br></br></br>
                                    <p class='lh6 bs4'>
                                        <strong>4. 개인정보처리 위탁</strong></br></br> ①
                                        <em class="emphasis">[더바틀샵]('thebottleshop')</em>은(는) 원활한 개인정보 업무처리를 위하여 다음과 같이 개인정보 처리업무를 위탁하지 않고 있습니다.
                                    </p>
                                    <br />
                                    <br />
                                    <p class='lh6 bs4'><strong>5. 정보주체의 권리,의무 및 그 행사방법 이용자는 개인정보주체로서 다음과 같은 권리를 행사할 수 있습니다.</strong></p>
                                    <p class='ls2'>
                                        ① 정보주체는 더바틀샵(‘thebottleshop.co.kr’이하 ‘thebottleshop) 에 대해 언제든지 다음 각 호의 개인정보 보호 관련 권리를 행사할 수 있습니다.</br>1. 개인정보 열람요구</br>2. 오류 등이 있을 경우 정정 요구</br>3. 삭제요구</br>4. 처리정지 요구</br>② 제1항에 따른 권리 행사는더바틀샵(‘thebottleshop.co.kr’이하 ‘thebottleshop) 에 대해 개인정보 보호법 시행규칙 별지 제8호 서식에 따라 서면, 전자우편, 모사전송(FAX) 등을 통하여 하실 수 있으며
                                        <기관 />회사명>(‘사이트URL’이하 ‘사이트명) 은(는) 이에 대해 지체 없이 조치하겠습니다.</br>③ 정보주체가 개인정보의 오류 등에 대한 정정 또는 삭제를 요구한 경우에는
                                        <기관 />회사명>(‘사이트URL’이하 ‘사이트명) 은(는) 정정 또는 삭제를 완료할 때까지 당해 개인정보를 이용하거나 제공하지 않습니다.</br>④ 제1항에 따른 권리 행사는 정보주체의 법정대리인이나 위임을 받은 자 등 대리인을 통하여 하실 수 있습니다. 이 경우 개인정보 보호법 시행규칙 별지 제11호 서식에 따른 위임장을 제출하셔야 합니다.
                                    </p></br></br>
                                    <p class='lh6 bs4'>
                                        <strong>6. 처리하는 개인정보의 항목 작성 </strong></br></br> ①
                                        <em class="emphasis">[더바틀샵]('thebottleshop.co.kr'이하  'thebottleshop')</em>은(는) 다음의 개인정보 항목을 처리하고 있습니다.
                                    </p>
                                    <p class='ls2'>1<홈페이지 회원가입 및 관리></br>- 필수항목 : 이메일, 휴대전화번호, 비밀번호, 로그인ID, 생년월일, 이름 </p></br></br></br>
                                    <p class='lh6 bs4'>
                                        <strong>7. 개인정보의 파기<em class="emphasis">[더바틀샵]('thebottleshop')</em>은(는) 원칙적으로 개인정보 처리목적이 달성된 경우에는 지체없이 해당 개인정보를 파기합니다. 파기의 절차, 기한 및 방법은 다음과 같습니다.</strong>
                                    </p>
                                    <p class='ls2'>-파기절차이용자가 입력한 정보는 목적 달성 후 별도의 DB에 옮겨져(종이의 경우 별도의 서류) 내부 방침 및 기타 관련 법령에 따라 일정기간 저장된 후 혹은 즉시 파기됩니다. 이 때, DB로 옮겨진 개인정보는 법률에 의한 경우가 아니고서는 다른 목적으로 이용되지 않습니다.-파기기한이용자의 개인정보는 개인정보의 보유기간이 경과된 경우에는 보유기간의 종료일로부터 5일 이내에, 개인정보의 처리 목적 달성, 해당 서비스의 폐지, 사업의 종료 등 그 개인정보가 불필요하게 되었을 때에는 개인정보의 처리가 불필요한 것으로 인정되는 날로부터 5일 이내에 그 개인정보를 파기합니다.</p>
                                    <p class='ls2'>-파기방법</br>전자적 파일 형태의 정보는 기록을 재생할 수 없는 기술적 방법을 사용합니다.</p></br></br>
                                    <p class='lh6 bs4'>
                                        <strong>8. 개인정보의 안전성 확보 조치 <em class="emphasis">[더바틀샵]('thebottleshop')</em>은(는) 개인정보보호법 제29조에 따라 다음과 같이 안전성 확보에 필요한 기술적/관리적 및 물리적 조치를 하고 있습니다.</strong>
                                    </p>
                                    <p class='ls2'>1. 개인정보의 암호화</br> 이용자의 개인정보는 비밀번호는 암호화 되어 저장 및 관리되고 있어, 본인만이 알 수 있으며 중요한 데이터는 파일 및 전송 데이터를 암호화 하거나 파일 잠금 기능을 사용하는 등의 별도 보안기능을 사용하고 있습니다.</br></br>2. 개인정보에 대한 접근 제한</br> 개인정보를 처리하는 데이터베이스시스템에 대한 접근권한의 부여,변경,말소를 통하여 개인정보에 대한 접근통제를 위하여 필요한 조치를 하고 있으며 침입차단시스템을 이용하여 외부로부터의 무단 접근을 통제하고 있습니다.</br></br></p></br></br>
                                    <p class='lh6 bs4'><strong>9. 개인정보 보호책임자 작성 </strong></p>
                                    <br /> ①  더바틀샵(‘thebottleshop.co.kr’이하 ‘thebottleshop) 은(는) 개인정보 처리에 관한 업무를 총괄해서 책임지고, 개인정보 처리와 관련한 정보주체의 불만처리 및 피해구제 등을 위하여 아래와 같이 개인정보 보호책임자를 지정하고 있습니다.
                                    <p class='ls2'>
                                        <br />▶ 개인정보 보호책임자
                                        <br />성명 :심민섭
                                        <br />직책 :CTO
                                        <br />직급 :CTO
                                        <br />연락처 :02-797-6425, aka.tomochan@gmail.com

                                        <br />② 정보주체께서는 더바틀샵(‘thebottleshop.co.kr’이하 ‘thebottleshop) 의 서비스(또는 사업)을 이용하시면서 발생한 모든 개인정보 보호 관련 문의, 불만처리, 피해구제 등에 관한 사항을 개인정보 보호책임자 및 담당부서로 문의하실 수 있습니다. 더바틀샵(‘thebottleshop.co.kr’이하 ‘thebottleshop) 은(는) 정보주체의 문의에 대해 지체 없이 답변 및 처리해드릴 것입니다.
                                    </p></br></br>
                                    <p class='lh6 bs4'><strong>10. 개인정보 처리방침 변경 </strong></p>
                                    <p>①이 개인정보처리방침은 시행일로부터 적용되며, 법령 및 방침에 따른 변경내용의 추가, 삭제 및 정정이 있는 경우에는 변경사항의 시행 7일 전부터 공지사항을 통하여 고지할 것입니다.</p></p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <br>
                <div id="success"></div>
                <div class="row">
                    <div class="form-group col-xs-12">
                        <button type="submit" class="btn btn-default btn-lg btn-primary"><i class="fa fa-ticket" aria-hidden="true"></i> 약관동의 및 가입(Terms Agee & Join)</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
@section script
{
<script src="@Url.Content("~/Scripts/jquery.mask.min.js")"></script>
    <script type="text/javascript">
        $(function () {
            $("#birth").mask('0000-00-00');
            $("#birth").focusout(function () {
                $.post("@Url.Action("Validate")", {type: 'birth', value : $("#birth").val()},  function (data) {
                    if (data == 0) {
                        
                    }
                    else {
                      
                        $("#birth").next().text('미성년자는 가입 불가합니다.').show();
                    }
                });
            });
           

            $("#id").focusout(function () {
                $.post("@Url.Action("Validate")", {type: 'id', value : $("#id").val()},  function (data) {
                    if (data == 0) {
                        $("#idc").val("Y");
                    }
                    else {
                        $("#idc").val("N");
                        $("#id").next().text('이미 존재하는 ID 입니다.').show();
                    }
                });
            });
            $("#email").focusout(function () {
                $.post("@Url.Action("Validate")", { type: 'email', value: $("#email").val() }, function (data) {
                    if (data == 0) {
                        $("#emailc").val("Y");
                    }
                    else {
                        $("#emailc").val("N");
                        $("#email").next().text('이미 존재하는 Email 입니다.').show();
                    }
                });
            });
            $("#contactForm input").not("[type=submit]").jqBootstrapValidation({
                preventSubmit: true,
                submitError: function ($form, event, errors) {
                    // additional error messages or events
                },
                submitSuccess: function ($form, event) {
                    if ($("#idc").val() == "Y" && $("#emailc").val() == "Y") {
                        var data = Common.Ajax("@Url.Action("JoinProc")", { id: $("#id").val(), pwd: $("#password").val(), name: $("#name").val(), email: $("#email").val(), tell: $("#tell").val(), birth: $("birth").val() });
                        $('#contactForm').trigger("reset");
                        if (data > 0) {
                            BootstrapDialog.show({
                                title: 'Notify',
                                message: '가입 완료. 맴버십 결재를 진행 하여주세요.',
                                buttons: [{
                                    label: 'Close',
                                    action: function (dialog) {
                                        dialog.close();
                                    }
                                }],
                                buttons: [{
                                    label: '결재(Pay)',
                                    action: function (dialog) {
                                        location.href = "@Url.Action("Pay","Pay")";
                                    }
                                }]
                            });
                        }
                        else {
                            $('#success').html("<div class='alert alert-danger'>");
                            $('#success > .alert-danger').html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>Close;")
                                .append("</button>");
                            $('#success > .alert-danger').append("<strong>회원가입 실패. 다시 하세요.");
                            $('#success > .alert-danger').append('</div>');
                        }
                    }
                    else {
                        BootstrapDialog.show({
                            title: 'Notify',
                            message: 'ID와 Email을 확인하세요.',
                            buttons: [ {
                                label: 'Close',
                                action: function (dialog) {
                                    dialog.close();
                                }
                            }]
                        });
                    }
                    event.preventDefault();
                }
            });
        });
    </script>
}